var require=function(c,m){var e=require.resolve(c,m||"/"),k=require.modules[e];if(!k)throw Error("Failed to resolve module "+c+", tried "+e);return k._cached?k._cached:k()};require.paths=[];require.modules={};require.extensions=[".js",".coffee"];require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0};
require.resolve=function(){return function(c,m){function e(d){if(require.modules[d])return d;for(var b=0;b<require.extensions.length;b++){var a=require.extensions[b];if(require.modules[d+a])return d+a}}function k(d){d=d.replace(/\/+$/,"");var b=d+"/package.json";if(require.modules[b]){var b=require.modules[b](),a=b.browserify;if("object"===typeof a&&a.main){if(b=e(n.resolve(d,a.main)))return b}else if("string"===typeof a){if(b=e(n.resolve(d,a)))return b}else if(b.main&&(b=e(n.resolve(d,b.main))))return b}return e(d+
"/index")}m||(m="/");if(require._core[c])return c;var n=require.modules.path(),h=m||".";if(c.match(/^(?:\.\.?\/|\/)/)){var p=e(n.resolve(h,c))||k(n.resolve(h,c));if(p)return p}if(h=function(d,b){var a;a="/"===b?[""]:n.normalize(b).split("/");for(var l=[],g=a.length-1;0<=g;g--)if("node_modules"!==a[g]){var f=a.slice(0,g+1).join("/")+"/node_modules";l.push(f)}for(a=0;a<l.length;a++){g=l[a];if(f=e(g+"/"+d))return f;if(g=k(g+"/"+d))return g}if(f=e(d))return f}(c,h))return h;throw Error("Cannot find module '"+
c+"'");}}();require.alias=function(c,m){var e=require.modules.path(),k=null;try{k=require.resolve(c+"/package.json","/")}catch(n){k=require.resolve(c,"/")}for(var e=e.dirname(k),k=(Object.keys||function(d){var b=[],a;for(a in d)b.push(a);return b})(require.modules),h=0;h<k.length;h++){var p=k[h];p.slice(0,e.length+1)===e+"/"?(p=p.slice(e.length),require.modules[m+p]=require.modules[e+p]):p===e&&(require.modules[m]=require.modules[e])}};
require.define=function(c,m){var e=require._core[c]?"":require.modules.path().dirname(c),k=function(c){return require(c,e)};k.resolve=function(c){return require.resolve(c,e)};k.modules=require.modules;k.define=require.define;var n={exports:{}};require.modules[c]=function(){require.modules[c]._cached=n.exports;m.call(n.exports,k,n,n.exports,e,c);return require.modules[c]._cached=n.exports}};"undefined"===typeof process&&(process={});
process.nextTick||(process.nextTick=function(){var c=[],m="undefined"!==typeof window&&window.postMessage&&window.addEventListener;m&&window.addEventListener("message",function(e){e.source===window&&"browserify-tick"===e.data&&(e.stopPropagation(),0<c.length&&c.shift()())},!0);return function(e){m?(c.push(e),window.postMessage("browserify-tick","*")):setTimeout(e,0)}}());process.title||(process.title="browser");
process.binding||(process.binding=function(c){if("evals"===c)return require("vm");throw Error("No such module");});process.cwd||(process.cwd=function(){return"."});
require.define("path",function(c,m,e,k,n){function h(b,a){for(var l=[],g=0;g<b.length;g++)a(b[g],g,b)&&l.push(b[g]);return l}function p(b,a){for(var l=0,g=b.length;0<=g;g--){var f=b[g];"."==f?b.splice(g,1):".."===f?(b.splice(g,1),l++):l&&(b.splice(g,1),l--)}if(a)for(;l--;l)b.unshift("..");return b}var d=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;e.resolve=function(){for(var b="",a=!1,l=arguments.length;-1<=l&&!a;l--){var g=0<=l?arguments[l]:process.cwd();"string"===typeof g&&g&&(b=g+"/"+b,a="/"===g.charAt(0))}b=
p(h(b.split("/"),function(b){return!!b}),!a).join("/");return(a?"/":"")+b||"."};e.normalize=function(b){var a="/"===b.charAt(0),l="/"===b.slice(-1);(b=p(h(b.split("/"),function(b){return!!b}),!a).join("/"))||a||(b=".");b&&l&&(b+="/");return(a?"/":"")+b};e.join=function(){var b=Array.prototype.slice.call(arguments,0);return e.normalize(h(b,function(b,l){return b&&"string"===typeof b}).join("/"))};e.dirname=function(b){return(b=d.exec(b)[1]||"")?1===b.length?b:b.substring(0,b.length-1):"."};e.basename=
function(b,a){var l=d.exec(b)[2]||"";a&&l.substr(-1*a.length)===a&&(l=l.substr(0,l.length-a.length));return l};e.extname=function(b){return d.exec(b)[3]||""}});
require.define("/shred.js",function(c,m,e,k,n){var h=c("ax"),p=c("cookiejar").CookieJar,d=function(b){b=b||{};this.agent=b.agent;this.defaults=b.defaults||{};this.log=b.logger||new h({level:"info"});this._sharedCookieJar=new p;this.logCurl=b.logCurl||!1};d.Request=c("./shred/request");d.Response=c("./shred/response");d.prototype={request:function(b){b.logger=this.log;b.logCurl=b.logCurl||this.logCurl;b.cookieJar="cookieJar"in b?b.cookieJar:this._sharedCookieJar;b.agent=b.agent||this.agent;for(var a in this.defaults)this.defaults.hasOwnProperty(a)&&
!b[a]&&(b[a]=this.defaults[a]);return new d.Request(b)}};["get","put","post","delete"].forEach(function(b){d.prototype[b]=function(a){a.method=b;return this.request(a)}});m.exports=d});require.define("/node_modules/ax/package.json",function(c,m,e,k,n){m.exports={main:"./lib/ax.js"}});
require.define("/node_modules/ax/lib/ax.js",function(c,m,e,k,n){c("util");var h=c("fs"),p=function(d){var b=this;d=d||{};d.level=d.level||"info";d.timestamp=d.timestamp||!0;d.prefix=d.prefix||"";b.options=d;b.options.module&&(b.options.prefix=b.options.module);b.options.file?b.stream=h.createWriteStream(b.options.file,{flags:"a"}):"node"===process.title?b.stream=process.stderr:"browser"===process.title&&(b.stream=function(){return console[b.options.level].apply(console,arguments)});switch(b.options.level){case "debug":["debug",
"info","warn"].forEach(function(a){b[a]=p.writer(a)});case "info":["info","warn"].forEach(function(a){b[a]=p.writer(a)});case "warn":b.warn=p.writer("warn")}};p.writer=function(d){return function(b){"node"===process.title?this.stream.write(this.format(d,b)+"\n"):"browser"===process.title&&this.stream(this.format(d,b)+"\n")}};p.prototype={info:function(){},debug:function(){},warn:function(){},error:p.writer("error"),format:function(d,b){if(!b)return"";var a=this.options.prefix,l=this.options.timestamp?
" "+(new Date).toISOString():"";return a+l+": "+b}};m.exports=p});require.define("util",function(c,m,e,k,n){});require.define("fs",function(c,m,e,k,n){});require.define("/node_modules/cookiejar/package.json",function(c,m,e,k,n){m.exports={main:"cookiejar.js"}});
require.define("/node_modules/cookiejar/cookiejar.js",function(c,m,e,k,n){e.CookieAccessInfo=CookieAccessInfo=function d(b,a,l,g){return this instanceof d?(this.domain=b||void 0,this.path=a||"/",this.secure=!!l,this.script=!!g,this):new d(b,a,l,g)};e.Cookie=Cookie=function b(a){return a instanceof b?a:this instanceof b?(this.value=this.name=null,this.expiration_date=Infinity,this.path="/",this.domain=null,this.noscript=this.secure=!1,a&&this.parse(a),this):new b(a)};Cookie.prototype.toString=function(){var b=
[this.name+"="+this.value];Infinity!==this.expiration_date&&b.push("expires="+(new Date(this.expiration_date)).toGMTString());this.domain&&b.push("domain="+this.domain);this.path&&b.push("path="+this.path);this.secure&&b.push("secure");this.noscript&&b.push("httponly");return b.join("; ")};Cookie.prototype.toValueString=function(){return this.name+"="+this.value};var h=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;Cookie.prototype.parse=function(b){if(this instanceof Cookie){b=b.split(";");var a=b[0].match(/([^=]+)=((?:.|\n)*)/),
l=a[1],a=a[2];this.name=l;this.value=a;for(var g=1;g<b.length;g++)switch(a=b[g].match(/([^=]+)(?:=((?:.|\n)*))?/),l=a[1].trim().toLowerCase(),a=a[2],l){case "httponly":this.noscript=!0;break;case "expires":this.expiration_date=a?Number(Date.parse(a)):Infinity;break;case "path":this.path=a?a.trim():"";break;case "domain":this.domain=a?a.trim():"";break;case "secure":this.secure=!0}return this}return(new Cookie).parse(b)};Cookie.prototype.matches=function(b){return this.noscript&&b.script||this.secure&&
!b.secure||!this.collidesWith(b)?!1:!0};Cookie.prototype.collidesWith=function(b){if(this.path&&!b.path||this.domain&&!b.domain||this.path&&0!==b.path.indexOf(this.path))return!1;if(this.domain!==b.domain)if(this.domain&&"."===this.domain.charAt(0)){var a=b.domain.indexOf(this.domain.slice(1));if(-1===a||a!==b.domain.length-this.domain.length+1)return!1}else if(this.domain)return!1;return!0};e.CookieJar=CookieJar=function a(){if(this instanceof a){var l={};this.setCookie=function(a){a=Cookie(a);var f=
a.expiration_date<=Date.now();if(a.name in l){for(var c=l[a.name],h=0;h<c.length;h++)if(c[h].collidesWith(a))return f?(c.splice(h,1),0===c.length&&delete l[a.name],!1):c[h]=a;if(f)return!1;c.push(a);return a}return f?!1:l[a.name]=[a]};this.getCookie=function(a,f){for(var c=l[a],h=0;h<c.length;h++){var q=c[h];if(q.expiration_date<=Date.now())0===c.length&&delete l[q.name];else if(q.matches(f))return q}};this.getCookies=function(a){var f=[],c;for(c in l){var h=this.getCookie(c,a);h&&f.push(h)}f.toString=
function(){return f.join(":")};f.toValueString=function(){return f.map(function(a){return a.toValueString()}).join(";")};return f};return this}return new a};CookieJar.prototype.setCookies=function(a){a=Array.isArray(a)?a:a.split(h);for(var c=[],g=0;g<a.length;g++){var f=Cookie(a[g]);this.setCookie(f)&&c.push(f)}return c}});
require.define("/shred/request.js",function(c,m,e,k,n){var h=c("http"),p=c("https"),d=c("./parseUri"),b=c("events").EventEmitter,a=c("sprintf").sprintf,l=c("./response");e=c("./mixins/headers");var g=c("./content"),f=h.STATUS_CODES||{100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",
303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",
422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"};c=function(a){this.log=a.logger;this.cookieJar=a.cookieJar;this.encoding=a.encoding;this.logCurl=a.logCurl;a=a||{};this.log.debug("Processing request options ..");
this.emitter=new b;this.agent=a.agent;if(a.on)for(var g in a.on)if(a.on.hasOwnProperty(g))this.emitter.on(g,a.on[g]);if(a.url||a.host){a.url&&(a.proxy?(this.url=a.proxy,this.path=a.url):this.url=a.url);this.query=a.query||a.parameters||this.query;this.method=a.method;this.setHeader("user-agent",a.agent||"Shred");this.setHeaders(a.headers);if(this.cookieJar&&(g=this.cookieJar.getCookies(CookieAccessInfo(this.host,this.path)),g.length)){for(var f=this.getHeader("cookie")||"",c=0;c<g.length;++c)f.length&&
";"!=f[f.length-1]&&(f+=";"),f+=g[c].name+"="+g[c].value+";";this.setHeader("cookie",f)}if(a.body||a.content)this.content=a.body||a.content;this.timeout=a.timeout}else this.emitter.emit("request_error",Error("No url or url options (host, port, etc.)"));u(this)};Object.defineProperties(c.prototype,{url:{get:function(){return this.scheme?a("%s://%s:%s%s",this.scheme,this.host,this.port,(this.proxy?"/":this.path)+(this.query?"?"+this.query:"")):null},set:function(a){a=d(a);this.scheme=a.protocol;this.host=
a.host;this.port=a.port;this.path=a.path;this.query=a.query;return this},enumerable:!0},headers:{get:function(){return this.getHeaders()},enumerable:!0},port:{get:function(){if(!this._port)switch(this.scheme){case "https":return this._port=443;default:return this._port=80}return this._port},set:function(a){this._port=a;return this},enumerable:!0},method:{get:function(){return this._method=this._method||"GET"},set:function(a){this._method=a;return this},enumerable:!0},query:{get:function(){return this._query},
set:function(a){if(a){if("object"===typeof a){var b="",g;for(g in a)b+=encodeURIComponent(g)+"="+encodeURIComponent(a[g])+"&";a=b=b.slice(0,-1)}this._query=a}else this._query="";return this},enumerable:!0},parameters:{get:function(){return QueryString.parse(this._query||"")},enumerable:!0},body:{get:function(){return this._body},set:function(a){this._body=new g({data:a,type:this.getHeader("Content-Type")});this.setHeader("Content-Type",this.content.type);this.setHeader("Content-Length",this.content.length);
return this},enumerable:!0},timeout:{get:function(){return this._timeout},set:function(a){var b=0;if(!a)return this;this._timeout=b="number"===typeof a?a:(a.milliseconds||0)+1E3*((a.seconds||0)+60*((a.minutes||0)+60*(a.hours||0)));return this},enumerable:!0}});Object.defineProperty(c.prototype,"content",Object.getOwnPropertyDescriptor(c.prototype,"body"));c.prototype.inspect=function(){var a=this.format_headers();return[["<Shred Request> ",this.method.toUpperCase(),this.url].join(" "),"- Headers:",
a].join("\n")};c.prototype.format_headers=function(){var a=[],b=this._headers,g;for(g in b)b.hasOwnProperty(g)&&a.push("\t"+g+": "+b[g]);return a.join("\n")};c.prototype.on=function(a,b){var g=this.emitter;if(1===arguments.length&&"function"===typeof a)g.on("response",a);else if(1===arguments.length&&"object"===typeof a)for(var f in a){if(a.hasOwnProperty(f))g.on(f,a[f])}else g.on(a,b);return this};e.gettersAndSetters(c);var u=function(a){var b;a.log.debug("Creating request ..");a.log.debug(a);var g=
{host:a.host,port:a.port,method:a.method,path:a.path+(a.query?"?"+a.query:""),headers:a.getHeaders(),scheme:a.scheme,agent:a.agent};a.logCurl&&w(a);a._raw=("http"==a.scheme?h:p).request(g,function(g){a.log.debug("Received response ..");clearTimeout(b);g=new l(g,a,function(b){var g=function(g){var c=a.emitter,d=f[b.status]?f[b.status].toLowerCase():null;0<c.listeners(b.status).length||0<c.listeners(d).length?(c.emit(b.status,b),c.emit(d,b)):0<c.listeners(g).length?c.emit(g,b):b.isRedirect||c.emit("response",
b)};b.isRedirect?(a.log.debug("Redirecting to "+b.getHeader("Location")),a.url=b.getHeader("Location"),g("redirect"),u(a)):b.isError?g("error"):g("success")})});a._raw.on("error",function(b){a.emitter.emit("request_error",b)});a._raw.on("socket",function(b){a.emitter.emit("socket",b)});a._raw.on("socket",function(){a._raw.socket.on("timeout",function(){a._raw.abort()})});a.content&&(a.log.debug("Streaming body: '"+a.content.data.slice(0,59)+"' ... "),a._raw.write(a.content.data));a.timeout&&(b=setTimeout(function(){a.log.debug("Timeout fired, aborting request ...");
a._raw.abort();a.emitter.emit("timeout",a)},a.timeout));a.log.debug("Sending request ...");a._raw.end()},w=function(a){var b=a.getHeaders(),g="",f;for(f in b)g+='-H "'+f+": "+b[f]+'" ';b="";a.content&&(b+="-d '"+a.content.body+"' ");f=a.query?"?"+a.query:"";console.log("curl -X "+a.method.toUpperCase()+" "+a.scheme+"://"+a.host+":"+a.port+a.path+f+" "+g+b)};m.exports=c});require.define("http",function(c,m,e,k,n){});require.define("https",function(c,m,e,k,n){});
require.define("/shred/parseUri.js",function(c,m,e,k,n){function h(c){var d=h.options;c=d.parser[d.strictMode?"strict":"loose"].exec(c);for(var b={},a=14;a--;)b[d.key[a]]=c[a]||"";b[d.q.name]={};b[d.key[12]].replace(d.q.parser,function(a,g,f){g&&(b[d.q.name][g]=f)});return b}h.options={strictMode:!1,key:"source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};m.exports=h});
require.define("events",function(c,m,e,k,n){process.EventEmitter||(process.EventEmitter=function(){});c=e.EventEmitter=process.EventEmitter;var h="function"===typeof Array.isArray?Array.isArray:function(c){return"[object Array]"===Object.toString.call(c)};c.prototype.setMaxListeners=function(c){this._events||(this._events={});this._events.maxListeners=c};c.prototype.emit=function(c){if("error"===c&&(!this._events||!this._events.error||h(this._events.error)&&!this._events.error.length)){if(arguments[1]instanceof
Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.");}if(!this._events)return!1;var d=this._events[c];if(!d)return!1;if("function"==typeof d){switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:var b=Array.prototype.slice.call(arguments,1);d.apply(this,b)}return!0}if(h(d)){for(var b=Array.prototype.slice.call(arguments,1),d=d.slice(),a=0,l=d.length;a<l;a++)d[a].apply(this,b);return!0}return!1};
c.prototype.addListener=function(c,d){if("function"!==typeof d)throw Error("addListener only takes instances of Function");this._events||(this._events={});this.emit("newListener",c,d);if(this._events[c])if(h(this._events[c])){if(!this._events[c].warned){var b;(b=void 0!==this._events.maxListeners?this._events.maxListeners:10)&&0<b&&this._events[c].length>b&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",
this._events[c].length),console.trace())}this._events[c].push(d)}else this._events[c]=[this._events[c],d];else this._events[c]=d;return this};c.prototype.on=c.prototype.addListener;c.prototype.once=function(c,d){var b=this;b.on(c,function l(){b.removeListener(c,l);d.apply(this,arguments)});return this};c.prototype.removeListener=function(c,d){if("function"!==typeof d)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[c])return this;var b=this._events[c];
if(h(b)){var a=b.indexOf(d);if(0>a)return this;b.splice(a,1);0==b.length&&delete this._events[c]}else this._events[c]===d&&delete this._events[c];return this};c.prototype.removeAllListeners=function(c){c&&this._events&&this._events[c]&&(this._events[c]=null);return this};c.prototype.listeners=function(c){this._events||(this._events={});this._events[c]||(this._events[c]=[]);h(this._events[c])||(this._events[c]=[this._events[c]]);return this._events[c]}});
require.define("/node_modules/sprintf/package.json",function(c,m,e,k,n){m.exports={main:"./lib/sprintf"}});
require.define("/node_modules/sprintf/lib/sprintf.js",function(c,m,e,k,n){var h=function(){function c(b){return Object.prototype.toString.call(b).slice(8,-1).toLowerCase()}var d=function(){d.cache.hasOwnProperty(arguments[0])||(d.cache[arguments[0]]=d.parse(arguments[0]));return d.format.call(null,d.cache[arguments[0]],arguments)};d.format=function(b,a){var d=1,g=b.length,f="",e=[],m,q,k,n;for(m=0;m<g;m++)if(f=c(b[m]),"string"===f)e.push(b[m]);else if("array"===f){k=b[m];if(k[2])for(f=a[d],q=0;q<
k[2].length;q++){if(!f.hasOwnProperty(k[2][q]))throw h('[sprintf] property "%s" does not exist',k[2][q]);f=f[k[2][q]]}else f=k[1]?a[k[1]]:a[d++];if(/[^s]/.test(k[8])&&"number"!=c(f))throw h("[sprintf] expecting number but found %s",c(f));switch(k[8]){case "b":f=f.toString(2);break;case "c":f=String.fromCharCode(f);break;case "d":f=parseInt(f,10);break;case "e":f=k[7]?f.toExponential(k[7]):f.toExponential();break;case "f":f=k[7]?parseFloat(f).toFixed(k[7]):parseFloat(f);break;case "o":f=f.toString(8);
break;case "s":f=(f=String(f))&&k[7]?f.substring(0,k[7]):f;break;case "u":f=Math.abs(f);break;case "x":f=f.toString(16);break;case "X":f=f.toString(16).toUpperCase()}f=/[def]/.test(k[8])&&k[3]&&0<=f?"+"+f:f;q=k[4]?"0"==k[4]?"0":k[4].charAt(1):" ";n=k[6]-String(f).length;if(k[6]){for(var v=[];0<n;v[--n]=q);q=v.join("")}else q="";e.push(k[5]?f+q:q+f)}return e.join("")};d.cache={};d.parse=function(b){for(var a=[],c=[],g=0;b;){if(null!==(a=/^[^\x25]+/.exec(b)))c.push(a[0]);else if(null!==(a=/^\x25{2}/.exec(b)))c.push("%");
else if(null!==(a=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(b))){if(a[2]){var g=g|1,f=[],d=a[2],h=[];if(null!==(h=/^([a-z_][a-z_\d]*)/i.exec(d)))for(f.push(h[1]);""!==(d=d.substring(h[0].length));)if(null!==(h=/^\.([a-z_][a-z_\d]*)/i.exec(d)))f.push(h[1]);else if(null!==(h=/^\[(\d+)\]/.exec(d)))f.push(h[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";a[2]=f}else g|=2;if(3===g)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";
c.push(a)}else throw"[sprintf] huh?";b=b.substring(a[0].length)}return c};return d}();e.sprintf=h;e.vsprintf=function(c,d){d.unshift(c);return h.apply(null,d)}});
require.define("/shred/response.js",function(c,m,e,k,n){var h=c("./content");e=c("./mixins/headers");var p=c("cookiejar").Cookie,d=null;try{d=c("zlib")}catch(b){console.warn("no zlib library")}var a=null;try{a=c("iconv-lite")}catch(l){console.warn("no iconv library")}c=function(b,c,g){var l=this;this._raw=b;this._setHeaders.call(this,b.headers);if(c.cookieJar&&this.getHeader("set-cookie")){for(var e=this.getHeader("set-cookie"),k=[],m,n=0;n<e.length;n++){var r=e[n];if(r){r.match(/domain\=/i)||(r+=
"; domain="+c.host);r.match(/path\=/i)||(r+="; path="+c.path);try{(m=new p(r))&&k.push(m)}catch(x){console.warn("Tried to set bad cookie: "+r)}}}c.cookieJar.setCookies(k)}this.request=c;this.client=c.client;this.log=this.request.log;var s=[],t=0;b.on("data",function(a){s.push(a);t+=a.length});b.on("end",function(){var b;if("undefined"===typeof Buffer)b=s.join("");else{b=new Buffer(t);for(var c=0,f=0;c<s.length;c++)s[c].copy(b,f),f+=s[c].length}var e=function(a){l._body=new h({body:a,type:l.getHeader("Content-Type")});
g(l)};d&&"gzip"===l.getHeader("Content-Encoding")?d.gunzip(b,function(c,g){b=a&&l.request.encoding?a.fromEncoding(g,l.request.encoding):g.toString();e(b)}):(l.request.encoding&&(b=a.fromEncoding(b,l.request.encoding)),e(b))})};c.prototype={inspect:function(){var a=this.format_headers();return[["<Shred Response> ",this.status].join(" "),"- Headers:",a].join("\n")},format_headers:function(){var a=[],b=this._headers,c;for(c in b)b.hasOwnProperty(c)&&a.push("\t"+c+": "+b[c]);return a.join("\n")}};Object.defineProperties(c.prototype,
{status:{get:function(){return this._raw.statusCode},enumerable:!0},body:{get:function(){return this._body}},content:{get:function(){return this.body},enumerable:!0},isRedirect:{get:function(){return 299<this.status&&400>this.status&&this.getHeader("Location")},enumerable:!0},isError:{get:function(){return 0===this.status||399<this.status},enumerable:!0}});e.getters(c);e.privateSetters(c);var g=c.prototype.getHeader;c.prototype.getHeader=function(a){return g.call(this,a)||"function"===typeof this._raw.getHeader&&
this._raw.getHeader(a)};m.exports=c});
require.define("/shred/content.js",function(c,m,e,k,n){var h=function(a){this.body=a.body;this.data=a.data;this.type=a.type};h.prototype={};Object.defineProperties(h.prototype,{type:{get:function(){if(this._type)return this._type;if(this._data)switch(typeof this._data){case "object":return"application/json"}return"text/plain"},set:function(a){this._type=a;return this},enumerable:!0},data:{get:function(){return this._body?this.processor.parser(this._body):this._data},set:function(a){this._body&&a&&
b.setDataWithBody(this);this._data=a;return this},enumerable:!0},body:{get:function(){return this._data?this.processor.stringify(this._data):this.processor.stringify(this._body)},set:function(a){this._data&&a&&b.setBodyWithData(this);this._body=a;return this},enumerable:!0},processor:{get:function(){var a=h.processors[this.type];if(a)return a;for(var b=this.type.split(";")[0].split(/\+|\//),c=0,f=b.length;c<f;c++)a=h.processors[b[c]];return a||{parser:p,stringify:d}},enumerable:!0},length:{get:function(){return"undefined"!==
typeof Buffer?Buffer.byteLength(this.body):this.body.length}}});h.processors={};h.registerProcessor=function(a,b){a.forEach?a.forEach(function(a){h.processors[a]=b}):h.processors[a]=b};var p=function(a){return a},d=function(a){return a.toString()};h.registerProcessor(["text/html","text/plain","text"],{parser:p,stringify:d});h.registerProcessor(["application/json; charset=utf-8","application/json","json"],{parser:function(a){return JSON.parse(a)},stringify:function(a){return JSON.stringify(a)}});var b=
{setDataWithBody:function(a){throw Error("Attempt to set data attribute of a content object when the body attributes was already set.");},setBodyWithData:function(a){throw Error("Attempt to set body attribute of a content object when the data attributes was already set.");}};m.exports=h});
require.define("/shred/mixins/headers.js",function(c,m,e,k,n){var h=function(a){return a.toLowerCase().replace(/(^|-)(\w)/g,function(a){return a.toUpperCase()})},p=function(a,b){return(a._headers||(a._headers={}))[h(b)]},d=function(a,b){var c=(b&&0<b.length?b:Object.keys(a._headers||(a._headers={}))).reduce(function(b,c){b[c]=p(a,c);return b},{});Object.freeze(c);return c},b=function(a,b,c){(a._headers||(a._headers={}))[h(b)]=c;return a},a=function(a,c){for(var f in c)b(a,f,c[f]);return this};m.exports=
{getters:function(a){a.prototype.getHeader=function(a){return p(this,a)};a.prototype.getHeaders=function(){return d(this,arguments)}},privateSetters:function(c){c.prototype._setHeader=function(a,c){return b(this,a,c)};c.prototype._setHeaders=function(b){return a(this,b)}},setters:function(c){c.prototype.setHeader=function(a,c){return b(this,a,c)};c.prototype.setHeaders=function(b){return a(this,b)}},gettersAndSetters:function(c){c.prototype.getHeader=function(a){return p(this,a)};c.prototype.getHeaders=
function(){return d(this,arguments)};c.prototype.setHeader=function(a,c){return b(this,a,c)};c.prototype.setHeaders=function(b){return a(this,b)}}}});require.define("/node_modules/iconv-lite/package.json",function(c,m,e,k,n){m.exports={}});
require.define("/node_modules/iconv-lite/index.js",function(c,m,e,k,n){var h=m.exports={toEncoding:function(a,b){return h.getCodec(b).toEncoding(a)},fromEncoding:function(a,b){return h.getCodec(b).fromEncoding(a)},defaultCharUnicode:"\ufffd",defaultCharSingleByte:"?",getCodec:function(a){for(var b=a||"utf8",c=void 0;;){"String"===Object.prototype.toString.call(b).slice(8,-1)&&(b=b.replace(/[- ]/g,"").toLowerCase());var d=h.encodings[b],l=Object.prototype.toString.call(d).slice(8,-1);if("String"===
l)c={originalEncoding:b},b=d;else if("Object"===l&&void 0!=d.type)c=d,b=d.type;else{if("Function"===l)return d(c);throw Error("Encoding not recognized: '"+a+"' (searched as: '"+b+"')");}}},encodings:{internal:function(b){return{toEncoding:function(a){return new Buffer(l(a),b.originalEncoding)},fromEncoding:function(c){return a(c).toString(b.originalEncoding)}}},utf8:"internal",ucs2:"internal",binary:"internal",ascii:"internal",base64:"internal",singlebyte:function(c){if(!c.chars||128!==c.chars.length&&
256!==c.chars.length)throw Error("Encoding '"+c.type+"' has incorrect 'chars' (must be of len 128 or 256)");128===c.chars.length&&(c.chars=b+c.chars);c.charsBuf||(c.charsBuf=new Buffer(c.chars,"ucs2"));if(!c.revCharsBuf){c.revCharsBuf=new Buffer(65536);for(var d=h.defaultCharSingleByte.charCodeAt(0),e=0;e<c.revCharsBuf.length;e++)c.revCharsBuf[e]=d;for(e=0;e<c.chars.length;e++)c.revCharsBuf[c.chars.charCodeAt(e)]=e}return{toEncoding:function(a){a=l(a);for(var b=new Buffer(a.length),d=c.revCharsBuf,
f=0;f<a.length;f++)b[f]=d[a.charCodeAt(f)];return b},fromEncoding:function(b){b=a(b);for(var d=c.charsBuf,f=new Buffer(2*b.length),h=0,e=0,l=0,k=b.length;l<k;l++)h=2*b[l],e=2*l,f[e]=d[h],f[e+1]=d[h+1];return f.toString("ucs2")}}},table:function(b){var c=b.table,d,e=b.revCharsTable;if(!c)throw Error("Encoding '"+b.type+"' has incorect 'table' option");if(!e)for(d in e=b.revCharsTable={},c)e[c[d]]=parseInt(d);return{toEncoding:function(a){a=l(a);for(var b=a.length,c=b,d=0;d<b;d++)a.charCodeAt(d)>>7&&
c++;for(var c=new Buffer(c),f,g=e[h.defaultCharUnicode.charCodeAt(0)],k=d=0;d<b;d++)f=a.charCodeAt(d),f>>7?(f=e[f]||g,c[k++]=f>>8,c[k++]=f&255):c[k++]=f;return c},fromEncoding:function(b){b=a(b);for(var d=b.length,g=0,e=0;e<d;e++)g++,b[e]&128&&e++;for(var g=new Buffer(2*g),l,k=h.defaultCharUnicode.charCodeAt(0),m=e=0;e<d;e++,m+=2)l=b[e],l&128&&(l=(l<<8)+b[++e],l=c[l]||k),g[m]=l&255,g[m+1]=l>>8;return g.toString("ucs2")}}}}};h.encode=h.toEncoding;h.decode=h.fromEncoding;var p=k+"/encodings/",d=c("fs");
d.readdirSync(p).forEach(function(a){if(!d.statSync(p+a).isDirectory()){a=c(p+a);for(var b in a)h.encodings[b]=a[b]}});var b="\x00\u0001\u0002\u0003\u0004\u0005\u0006\u0007\b\t\n\x0B\f\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u007f",a=function(a){a=a||new Buffer(0);return a instanceof Buffer?a:new Buffer(a.toString(),"utf8")},l=function(a){a=
a||"";return a instanceof String?a:a.toString(a instanceof Buffer?"utf8":void 0)}});require.define("/node_modules/http-browserify/package.json",function(c,m,e,k,n){m.exports={main:"index.js",browserify:"browser.js"}});
require.define("/node_modules/http-browserify/browser.js",function(c,m,e,k,n){var h=m.exports;c("events");var p=c("./lib/request");h.request=function(b,a){b||(b={});b.host||(b.host=window.location.host.split(":")[0]);b.port||(b.port=window.location.port);var c=new p(new d,b);if(a)c.on("response",a);return c};h.get=function(b,a){b.method="GET";var c=h.request(b,a);c.end();return c};var d=function(){if("undefined"===typeof window)throw Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;
if(window.ActiveXObject)for(var b=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],a=0;a<b.length;a++)try{var c=new window.ActiveXObject(b[a]);return function(){if(c){var d=c;c=null;return d}return new window.ActiveXObject(b[a])}}catch(d){}throw Error("ajax not supported in this browser");}();h.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",
207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",
416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"}});
require.define("/node_modules/http-browserify/lib/request.js",function(c,m,e,k,n){e=c("events").EventEmitter;var h=c("./response"),p=c("./isSafeHeader");c=m.exports=function(c,b){var a=this;a.xhr=c;a.body="";c.open(b.method||"GET",(b.scheme||"http")+"://"+(b.host+":"+b.port+(b.path||"/")),!0);b.headers&&Object.keys(b.headers).forEach(function(a){if(p(a)){var f=b.headers[a];Array.isArray(f)?f.forEach(function(b){c.setRequestHeader(a,b)}):c.setRequestHeader(a,f)}});var e=new h(c);e.on("ready",function(){a.emit("response",
e)});c.onreadystatechange=function(){e.handle(c)}};c.prototype=new e;c.prototype.setHeader=function(c,b){if(Array.isArray&&Array.isArray(b)||b instanceof Array)for(var a=0;a<b.length;a++)this.xhr.setRequestHeader(c,b[a]);else this.xhr.setRequestHeader(c,b)};c.prototype.write=function(c){this.body+=c};c.prototype.end=function(c){void 0!==c&&this.write(c);this.xhr.send(this.body)}});
require.define("/node_modules/http-browserify/lib/response.js",function(c,m,e,k,n){function h(a){a=a.getAllResponseHeaders().split(/\r?\n/);for(var b={},c=0;c<a.length;c++){var d=a[c];if(""!==d){var e=d.match(/^([^:]+):\s*(.*)/);e?(d=e[1].toLowerCase(),e=e[2],void 0!==b[d]?Array.isArray&&Array.isArray(b[d])||b[d]instanceof Array?b[d].push(e):b[d]=[b[d],e]:b[d]=e):b[d]=!0}}return b}e=c("events").EventEmitter;var p=c("./isSafeHeader");c=m.exports=function(a){this.xhr=a;this.offset=0};c.prototype=new e;
var d=!0,b=!0;c.prototype.getHeader=function(a){var b=this.headers?this.headers[a.toLowerCase()]:null;return b?b:p(a)?this.xhr.getResponseHeader(a):null};c.prototype.handle=function(){var a=this.xhr;if(2===a.readyState&&b){try{this.statusCode=a.status,this.headers=h(a)}catch(c){b=!1}b&&this.emit("ready")}else if(d&&3===a.readyState){try{this.statusCode||(this.statusCode=a.status,this.headers=h(a),this.emit("ready"))}catch(e){}try{this.write()}catch(f){d=!1}}else 4===a.readyState&&(this.statusCode||
(this.statusCode=a.status,this.emit("ready")),this.write(),a.error?this.emit("error",a.responseText):this.emit("end"))};c.prototype.write=function(){var a=this.xhr;a.responseText.length>this.offset&&(this.emit("data",a.responseText.slice(this.offset)),this.offset=a.responseText.length)}});
require.define("/node_modules/http-browserify/lib/isSafeHeader.js",function(c,m,e,k,n){var h="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length cookie cookie2 content-transfer-encoding date expect host keep-alive origin referer set-cookie te trailer transfer-encoding upgrade user-agent via".split(" ");m.exports=function(c){return c?-1===h.indexOf(c.toLowerCase()):!1}});require.alias("http-browserify","/node_modules/http");
require.alias("http-browserify","/node_modules/https");